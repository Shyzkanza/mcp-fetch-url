---
description: Structure des r√©ponses d'outils MCP
globs: 
  - src/tools/**/*.ts
alwaysApply: false
---

# OpenAI Apps SDK - Structure des R√©ponses

## Anatomie d'une R√©ponse Tool

```typescript
{
  content: [{
    type: 'text',
    text: 'Markdown narration'
  }],

  structuredContent: {
    type: 'urlContent',
    summary: 'Contenu de la page',
    items: [/* donn√©es concises */]
  },

  _meta: {
    fullHtml: {/* contenu complet */}
  }
}
```

## Les 3 Parties

### 1. `content` - Narration

```typescript
content: [{
  type: 'text',
  text: `## Contenu de example.com
  
üìÑ Titre: Example Domain
üìù Description: This domain is for use in examples...`
}]
```

### 2. `structuredContent` - Donn√©es l√©g√®res

```typescript
structuredContent: {
  type: 'webpage',
  url: 'https://example.com',
  title: 'Example Domain',
  description: 'This domain is for use in examples',
  links: [/* top 5 liens */]
}
```

**R√®gles**: < 4k tokens, essentiel uniquement

### 3. `_meta` - Donn√©es riches

```typescript
_meta: {
  fullContent: '...', // HTML complet
  allLinks: [...],    // Tous les liens
  images: [...]       // Toutes les images
}
```

## Checklist R√©ponse

- [ ] `content` r√©sum√© markdown
- [ ] `structuredContent` l√©ger
- [ ] Contenu complet dans `_meta`
